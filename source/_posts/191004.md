---
title: win10下matlab与mexopencv关联问题
date: 2019-10-04 00:13:51
categories:
- CS
tags:
- matlab
- mexopencv
- opencv
- visual studio
- win10
---

# 1 准备材料

- matlab R2019a
- visual studio 2017
- opencv 3.4.1
- mexopencv 3.4.1



# 2 执行步骤

1. 首先安装好 matlab 、visual studio 和 opencv；

2. 将 mexopencv 解压到 matlab 工作目录下；

3. 在 matlab 命令行执行 mex -setup；

4. 显示情况如下图所示：

   ![01](191004/01.png)

5. 选择后者 VS2017 作为编译器；

6. 然后在 matlab 命令行执行 mexopencv.make('opencv_path','D:\opencv\opencv\build')；（第二个参数的路径为“实际 opencv 安装的路径\build”）；

7. 显示情况如下图所示：

   <img src="191004/02.png" alt="02" style="zoom:150%;" />

8. 点击错误提示，到达报错的文件内，在 275-281 行找到如下代码，并注释掉：

   <img src="191004/03.png" alt="03" style="zoom:80%;" />

9. 再次执行 mexopencv.make('opencv_path','D:\opencv\opencv\build')，提示如下信息并开始读条（持续时间时间较长），即关联完成：

   ![04](191004/04.png)



# 3 测试

&emsp;&emsp;新建脚本文件，输入如下代码并运行：

```matlab
im = imread('Lena.jpg');
kern = [0 -1 0;-1 5 -1;0 -1 0];
result = cv.filter2D(im, kern);
subplot(1,2,1);
imshow(im);title('原始图像');
subplot(1,2,2);
imshow(result);title('卷积图像');

```

**&emsp;&emsp;运行结果如图：**

<img src="191004/05.png" alt="05" style="zoom:50%;" />